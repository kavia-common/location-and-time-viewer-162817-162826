{"is_source_file": true, "format": "Kotlin", "description": "MainActivity class for an Android application that manages location and time display. It inflates the UI from XML, handles runtime location permission requests, observes a ViewModel for UI state, and updates the UI accordingly. It includes logic for refreshing location data and user permission handling.", "external_files": ["R.layout.activity_main", "android.widget.Toast", "org.example.locationtime.MainViewModel", "android.Manifest", "android.os.Bundle", "android.widget.Button", "android.widget.ProgressBar", "android.widget.TextView"], "external_methods": ["findViewById", "setContentView", "registerForActivityResult", "collectLatest", "launch", "makeText", "clearMessage", "hasLocationPermission", "refresh", "onPermissionDenied"], "published": ["MainActivity"], "classes": [{"name": "MainActivity", "description": "MainActivity extends ComponentActivity, manages UI interactions, permissions, and observes ViewModel state."}], "methods": [{"name": "onCreate", "description": "Lifecycle method called when the activity is created. Sets up UI, observers, and permission logic."}], "calls": ["setContentView", "findViewById", "launch", "collectLatest", "makeText"], "search-terms": ["MainActivity", "location permission handling", "ViewModel observation", "UI updates", "Android Kotlin activity"], "state": 2, "file_id": 11, "knowledge_revision": 35, "git_revision": "", "revision_history": [{"23": ""}, {"32": ""}, {"35": ""}], "hash": "e4a8e758ebc327bc9abfd4f0223cb61f", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/locationtime/MainActivity.kt"}